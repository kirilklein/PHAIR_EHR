# Configuration for causal effect simulation
# This file contains all parameters needed to run induce_causal_effect.py

# Required paths
paths:
  source_dir: "./example_data/synthe_meds" # Directory containing source data shards (.parquet files)
  write_dir: "./example_data/synthea_meds_causal" # Directory to write output shards (will be created if needed)

exposure:
  code: "EXPOSURE"
  run_in_days: 30
  compliance_interval_days: 10
  daily_stop_prob: 0.01
  p_base: 0.1
  trigger_codes: [
      D/25675004, # confounders outcome 1
      D/431855005,
      D/80583007,
      D/105531004, # confounders outcome 2
      D/65363002,
      D/55822004, # confounders outcome 3
      D/267020005,
      D/90781000119102, # here the instruments start
      D/43878008,
      D/312608009,
    ]
  trigger_weights: [0.5, 0.1, -0.1, 0.3, 0.2, 0.3, 0.4, 0.8, 0.6, 0.7] # logits - now 10 weights to match 10 codes

outcomes:
  outcome_1:
    code: "OUTCOME"
    run_in_days: 30
    p_base: 0.1
    trigger_codes: [
        D/25675004, # confounders
        D/431855005,
        D/80583007,
        D/125605004, # prognostic
        D/384709000,
        D/431856006,
      ]
    trigger_weights: [0.5, 0.1, -0.1, 0.3, 0.2, 0.4] # logits - now 6 weights to match 6 codes
    exposure_effect: 1.0
  outcome_2:
    code: "OUTCOME_2"
    run_in_days: 30
    p_base: 0.01
    trigger_codes: [D/105531004, D/65363002, D/157141000119108, D/1121000119107]
    trigger_weights: [0.5, 0.1, -0.1, 0.3]
    exposure_effect: 2.0
  outcome_3:
    code: "OUTCOME_3"
    run_in_days: 30
    p_base: 0.01
    trigger_codes: [D/55822004, D/267020005, D/713458007, D/44465007]
    trigger_weights: [0.5, 0.1, -0.1, 0.3]
    exposure_effect: 0.0
